
# 공간 복잡도 (Space Complexity)

  
# 1. 공간 복잡도란?

공간복잡도는 작성한 프로그램이 **얼마나 많은 공간(메모리)을 사용하는지**에 결정된다.

공간 복잡도는 근래에 컴퓨터의 성능 발달로 인해 메모리 공간이 충분하다 보니, 예전에 비해 공간 복잡도의 중요도가 떨어졌다. 그럼에도 물론 좋은 알고리즘은 실행 시간이 짧고, 저장 공간도 적게 쓰는 프로그램이다. 하지만, 둘 다 만족시키기는 어려운데 그 이유는 시간과 공간에는 **반비례적인 경향**이 있기 때문이다.

총 필요 저장공간에는 **두 가지 종류**가 있다:

> 1. 고정 공간 (알고리즘과 무관한 공간): 코드 저장 공간, 단순 변수 및 상수
> 2. 가변 공간 (알고리즘 실행과 관련 있는 공간): 실행 중 동적으로 필요한 공간 

`S(P) = c + Sp(n)`

> - c: 고정 공간
> - Sp(n): 가변 공간

여기서 고정 공간은 상수이므로 공간 복잡도는 **가변 공간**에 좌우된다.

# 2. 공간 복잡도 계산

시간 복잡도 계산과 동일하게 **빅 오(Big O)** 표기법으로 표현한다. 

일반적으로 공간이 하나 생성되는 것을 1이라고 하는데, `O(1)`로 표기한다. 

```python
result = 0
for i in range(1,100):
	result += i
```

반복문이 *n*번만큼 반복되어도 *i*와 *result*는 *for*문 안에서의 지역변수이므로 공간 복잡도는 `O(1)`이다.

하지만 재귀함수일 경우에는 달라지는데,

```python
def factorial(n):
	if n == 1:
		return 1
	return n * factorial(n - 1) 
```

함수 내부에서 *n*이 *1*일 때까지 팩토리얼을 구하는 함수가 재귀적으로 호출된다. 스택에는 *n*부터 *1*까지 모두 쌓이게 되므로 공간 복잡도는`O(n)`이 된다. 

## 공간 복잡도를 줄이는 방법

공간 복잡도를 줄이는 방법은 어떤 요인들이 공간 복잡도에 영향을 끼치는지 알아야 한다:

> 1. 배열의 크기의 크기가 얼마나 큰지
> 2. 얼마만큼의 동적 할당인지
> 3. 몇번의 호출이 필요한 하는 재귀함수인지 등등 

프로그램에 필요한 공간인 고정 공간과 가변 공간에서, 시간적인 측면을 무시하고 공간 복잡도만 고려한다고 했을 때 고정 공간보다는 **가변 공간을 사용할 수 있는 자료 구조가 더 효율적**이다. 

함수 호출 시 할당되는 지역변수들이나 동적 할당되는 객체들도 모두 공간이 필요하다. 특히 재귀 함수의 경우, 매 함수 호출마다 함수의 매개변수, 지역변수, 함수의 복귀 주소를 저장할 공간이 필요하므로, 반복문으로 짜는 프로그램이 더 효율적이다.