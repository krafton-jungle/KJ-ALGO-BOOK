# 예시 문제로 이해하기

## 문제.1 거스름돈 문제 


### 문제 개요
- 거스름돈 문제는, 여러 단위의 동전이 무한히 존재할 때 목표 금액을 만들기 위한 최소 동전 수를 구하는 문제이다.
- 동전 단위의 구성에 따라 그리디 알고리즘의 사용 가능 여부가 달라진다.


### 코드 구현(Python)

```python
N = 1260
coins = [500, 100, 50, 10]
answer = 0

for c in coins:
    answer += N // c    # 현재 사용한 동전 수를 정답에 추가
    N = N % c           # 동전 다 쓰고 남은 돈

if N <= 0:              # N원을 만드는 데 성공
    print(answer)
else:                   # N원을 만들지 못함
    print("FAIL")

# 결과: 6
```

### 거스름돈 문제에서 그리디 알고리즘을 사용할 수 있는 경우

- 500원, 100원, 50원, 10원짜리 동전이 무한히 존재한다.
- 위 동전으로 1,260원을 만들 때, **필요한 최소한 동전 수**를 구해 보자.
- 이때 **가장 큰 단위의 동전부터** 있는 대로 사용하면 정답을 구할 수 있다.

| 단위  | 몇 개?  | 남은 돈               |
| ----- | ------- | --------------------- |
| 500원 | 2개     | 1260 - 500 \* 2 = 260 |
| 100원 | 2개     | 260 - 100 \* 2 = 60   |
| 50원  | 1개     | 60 - 50 \* 1 = 10     |
| 10원  | 1개     | 10 - 10 \* 1 = 0      |
| 계      | **6개**                | |

- **큰 단위가 항상 작은 단위의 배수이므로**, 큰 단위를 먼저 사용하는 것이 무조건 유리하다.
  - 예를 들어, 500원을 놔두고 굳이 100원 5개를 쓸 이유는 없다.
  - 마찬가지로, 100원을 놔두고 굳이 50원 2개를 쓸 이유는 없다.


- 동전의 종류가 `K`개일 때, 위 코드의 시간 복잡도는 `O(K)`이다.
  - `for`문으로 각 동전 종류를 순회하기 때문이다.
- 일일이 `N`원을 만드는 모든 경우의 수를 고려하지 않아도, 문제를 빠르게 풀 수 있음

### 그리디 알고리즘을 사용할 수 없는 경우

- 이번엔 사용 가능한 동전의 단위가 500원, 400원, 100원일 때 800원을 만들어 보자.
- 우선 그리디 알고리즘을 통해, 높은 단위의 동전부터 있는 대로 사용할 수 있다.

| 단위  | 몇 개?  | 남은 돈                |
| ----- | ------- | ---------------------- |
| 500원 | 1개     | 800 - 500 \* 1 = 300원 |
| 400원 | 불가능  | 300원                  |
| 100원 | 3개     | 300 - 100 \* 3 = 0원   |
| 계    | **4개** |

- 하지만, 400원 2개로 800원을 만들 수 있다.
  - 그리디 알고리즘을 사용 시 총 4개의 동전을 사용해야 하는데, 이는 최적해로 볼 수 없다.
- **동전 단위가 배수를 이루지 않으므로**, 그리디 알고리즘은 최적해를 보장하지 않는다.
  - 이럴 땐 동적 계획법(Dynamic Programming)을 사용해, 800원을 만들 수 있는 모든 조합을 분석해야 한다.

### 탐욕 선택 속성 (Greedy Choice Problem)
- 문제에서 매 순간 탐욕적 선택을 해도, **나중에 문제의 최적해를 구하는 데 방해가 되지 않음**을 뜻한다.
- e.g., 1,260원을 500원, 100원, 50원, 10원으로 만들기
  - 제일 큰 단위인 500원 2개를 먼저 사용하고, 남은 금액도 계속 큰 단위 동전을 반복해 선택하면 최적해를 만들 수 있다.
- e.g., 800원을 500원, 400원, 100원으로 만들기
  - 제일 큰 단위인 500원 1개를 먼저 써 버리면, 400원 2개로 800원을 만들 수 없다.

### 최적 부분 구조 (Optimal Structure)
- 문제를 부분 문제로 나눴을 때, **각 부분 문제의 최적해를 합치면 전체 최적해**가 되어야 한다.
- e.g., 1,260원을 만드는 문제를, 700원 / 560원을 만드는 문제로 쪼갤 수 있다.
  - 700원 = 500원 1개, 100원 2개를 사용해, 총 동전 3개로 만들 수 있다.
  - 560원 = 500원 1개, 50원 2개, 10원 1개를 사용해, 총 동전 3개로 만들 수 있다.
  - 합쳐서 총 6개의 동전이 필요한데, 이는 1,260원을 만드는 문제의 최적해와 동일하다.
